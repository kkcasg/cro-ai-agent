
# ü§ñ CRO AI Agent

**Chief Revenue Officer Aut√¥nomo com IA** - Sistema multi-agente para automatizar atividades de Growth, Marketing, Vendas e Finan√ßas.

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com/)
[![Next.js](https://img.shields.io/badge/Next.js-14+-black.svg)](https://nextjs.org/)

## üìã √çndice

- [Vis√£o Geral](#-vis√£o-geral)
- [Funcionalidades](#-funcionalidades)
- [Arquitetura](#-arquitetura)
- [Pr√©-requisitos](#-pr√©-requisitos)
- [Instala√ß√£o](#-instala√ß√£o)
- [Configura√ß√£o](#-configura√ß√£o)
- [Execu√ß√£o](#-execu√ß√£o)
- [Dados Demo](#-dados-demo)
- [API Documentation](#-api-documentation)
- [Guia de Uso](#-guia-de-uso)
- [Estrutura do Projeto](#-estrutura-do-projeto)
- [Agentes de IA](#-agentes-de-ia)
- [Integra√ß√µes](#-integra√ß√µes)
- [Troubleshooting](#-troubleshooting)
- [Contribui√ß√£o](#-contribui√ß√£o)
- [Roadmap](#-roadmap)

## üéØ Vis√£o Geral

O **CRO AI Agent** √© um sistema aut√¥nomo que substitui o Chief Revenue Officer em atividades repetitivas, de pesquisa e rotina. Utiliza m√∫ltiplos agentes de IA especializados para:

- **Planejar e executar** campanhas de marketing
- **Analisar dados** de churn, LTV e CAC
- **Gerar relat√≥rios** financeiros (DRE, forecasts)
- **Automatizar comunica√ß√£o** via WhatsApp e Email
- **Integrar** com Google Suite, Notion, CRM
- **Recomendar a√ß√µes** baseadas em dados

### üéØ Objetivos

- ‚úÖ Aumentar receita recorrente (assinaturas)
- ‚úÖ Reduzir CAC (Custo de Aquisi√ß√£o de Cliente)
- ‚úÖ Diminuir churn e tempo de payback
- ‚úÖ Aumentar LTV (Lifetime Value)
- ‚úÖ Automatizar workflows de growth

## üöÄ Funcionalidades

### üìä Analytics & Relat√≥rios
- **An√°lise de Churn** com cohorts e causas
- **DRE Simplificado** com cen√°rios
- **Forecasting** de receita e assinaturas
- **Unit Economics** (CAC, LTV, Payback)
- **Dashboards** interativos

### üì± Campanhas de Marketing
- **WhatsApp Business** - Sequ√™ncias automatizadas
- **Email Marketing** - Newsletters e nurturing
- **Segmenta√ß√£o** din√¢mica de contatos
- **A/B Testing** de campanhas
- **Personaliza√ß√£o** com dados do cliente

### ü§ñ Agentes Especializados
- **Router** - Classifica inten√ß√µes
- **Researcher** - Pesquisa e an√°lise de dados
- **Planner** - Cria√ß√£o de planos t√°ticos
- **CampaignBuilder** - Gera√ß√£o de campanhas
- **SalesOps** - An√°lise de vendas e funil
- **Finance** - Relat√≥rios financeiros
- **Automation** - Execu√ß√£o de integra√ß√µes

### üîó Integra√ß√µes
- **WhatsApp Business API** (360dialog/Meta)
- **Google Workspace** (Gmail, Calendar, Drive, Sheets)
- **Notion** - Documenta√ß√£o e tasks
- **HubSpot/Salesforce** - CRM
- **Looker Studio** - Dashboards

## üèóÔ∏è Arquitetura

```mermaid
graph TB
    subgraph "Frontend"
        A[Next.js Dashboard]
        B[Chat Interface]
        C[Reports UI]
    end
    
    subgraph "Backend API"
        D[FastAPI]
        E[Authentication]
        F[Rate Limiting]
    end
    
    subgraph "AI Agents"
        G[Router Agent]
        H[Researcher Agent]
        I[Planner Agent]
        J[Campaign Builder]
        K[Finance Agent]
        L[Automation Agent]
    end
    
    subgraph "Data Layer"
        M[PostgreSQL]
        N[Redis Cache]
        O[Vector DB]
    end
    
    subgraph "External APIs"
        P[WhatsApp API]
        Q[Google APIs]
        R[Notion API]
        S[CRM APIs]
    end
    
    A --> D
    B --> D
    C --> D
    D --> G
    G --> H
    G --> I
    G --> J
    G --> K
    G --> L
    H --> M
    I --> M
    J --> P
    K --> M
    L --> Q
    L --> R
    L --> S
    D --> N
    H --> O
```

### üõ†Ô∏è Stack Tecnol√≥gico

**Backend:**
- **FastAPI** - API REST com Python 3.11+
- **SQLAlchemy** - ORM com PostgreSQL
- **Redis** - Cache e filas
- **Celery** - Background jobs
- **LangGraph** - Orquestra√ß√£o de agentes

**Frontend:**
- **Next.js 14** - App Router
- **Tailwind CSS** - Styling
- **shadcn/ui** - Componentes
- **Chart.js** - Visualiza√ß√µes

**IA & ML:**
- **OpenAI GPT-4** - Modelo principal
- **Chroma/PGVector** - RAG e embeddings
- **LangChain** - Framework de IA

**Infraestrutura:**
- **Docker** - Containeriza√ß√£o
- **PostgreSQL 15** - Banco principal
- **Redis 7** - Cache e sess√µes

## üìã Pr√©-requisitos

- **Docker** 24.0+ e Docker Compose
- **Python** 3.11+ (para desenvolvimento)
- **Node.js** 18+ (para frontend)
- **Git** para versionamento

### Contas Necess√°rias (Opcionais)
- **OpenAI API Key** - Para agentes de IA
- **WhatsApp Business** - Para campanhas
- **Google Cloud** - Para integra√ß√µes
- **Notion** - Para documenta√ß√£o

## üöÄ Instala√ß√£o

### 1. Clone o Reposit√≥rio

```bash
git clone https://github.com/seu-usuario/cro-ai-agent.git
cd cro-ai-agent
```

### 2. Configure Vari√°veis de Ambiente

```bash
cp .env.example .env
```

Edite o arquivo `.env` com suas configura√ß√µes:

```env
# Banco de Dados
DATABASE_URL=postgresql://cro_user:cro_password@postgres:5432/cro_ai_db
REDIS_URL=redis://redis:6379/0

# Seguran√ßa
JWT_SECRET_KEY=seu_jwt_secret_super_seguro_aqui
ENCRYPTION_KEY=sua_chave_de_criptografia_32_chars

# APIs de IA
OPENAI_API_KEY=sk-sua_openai_api_key
ANTHROPIC_API_KEY=sua_anthropic_key

# Integra√ß√µes
WHATSAPP_API_KEY=sua_whatsapp_api_key
GOOGLE_CLIENT_ID=seu_google_client_id
GOOGLE_CLIENT_SECRET=seu_google_client_secret
NOTION_API_KEY=sua_notion_api_key

# Aplica√ß√£o
ENVIRONMENT=development
API_V1_STR=/api/v1
FRONTEND_URL=http://localhost:3000
```

### 3. Build e Execute com Docker

```bash
# Build das imagens
docker compose build

# Execute os servi√ßos
docker compose up -d

# Verifique os logs
docker compose logs -f
```

### 4. Execute as Migra√ß√µes e Seed

```bash
# Acesse o container do backend
docker compose exec backend bash

# Execute as migra√ß√µes
alembic upgrade head

# Popule com dados demo
python scripts/seed.py
```

## ‚öôÔ∏è Configura√ß√£o

### Configura√ß√£o de Desenvolvimento

Para desenvolvimento local sem Docker:

```bash
# Backend
cd backend
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ou venv\Scripts\activate  # Windows
pip install -r requirements.txt

# Frontend
cd frontend
npm install
```

### Configura√ß√£o de Produ√ß√£o

Para produ√ß√£o, ajuste as vari√°veis:

```env
ENVIRONMENT=production
DEBUG=false
DATABASE_URL=postgresql://user:pass@prod-db:5432/db
REDIS_URL=redis://prod-redis:6379/0
```

## üèÉ‚Äç‚ôÇÔ∏è Execu√ß√£o

### Com Docker (Recomendado)

```bash
# Inicie todos os servi√ßos
docker compose up -d

# Apenas backend
docker compose up -d postgres redis backend

# Apenas frontend
docker compose up -d frontend

# Parar servi√ßos
docker compose down
```

### Desenvolvimento Local

```bash
# Terminal 1 - Backend
cd backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# Terminal 2 - Frontend
cd frontend
npm run dev

# Terminal 3 - Worker (opcional)
cd backend
celery -A app.worker worker --loglevel=info
```

### Verifica√ß√£o

Ap√≥s iniciar, verifique:

- **Backend API**: http://localhost:8000
- **Frontend**: http://localhost:3000
- **API Docs**: http://localhost:8000/docs
- **Health Check**: http://localhost:8000/health

## üé≠ Dados Demo

O sistema vem com dados de demonstra√ß√£o pr√©-configurados:

### üë§ Usu√°rio Admin
- **Username**: `cg`
- **Email**: `cg@maispetoficial.com.br`
- **Password**: `CroAgent2024!`
- **Roles**: Admin, CRO

### üìä Dados Inclusos
- **5 contatos** demo com diferentes perfis
- **5 segmentos** din√¢micos
- **2 campanhas** (WhatsApp e Email)
- **3 playbooks** prontos
- **4 integra√ß√µes** sandbox
- **Eventos** de analytics

### üè¢ Empresa Demo
- **Nome**: +Pet / Mais Pet
- **Dom√≠nio**: maispetoficial.com.br
- **Segmento**: Pet Care / E-commerce

## üìö API Documentation

### Endpoints Principais

```http
# Autentica√ß√£o
POST /api/v1/auth/login
POST /api/v1/auth/refresh
POST /api/v1/auth/logout

# Agentes
POST /api/v1/agents/chat
GET  /api/v1/agents/runs
POST /api/v1/agents/execute

# Campanhas
GET    /api/v1/campaigns
POST   /api/v1/campaigns
PUT    /api/v1/campaigns/{id}
DELETE /api/v1/campaigns/{id}

# Contatos
GET    /api/v1/contacts
POST   /api/v1/contacts
PUT    /api/v1/contacts/{id}
POST   /api/v1/contacts/import

# Segmentos
GET    /api/v1/segments
POST   /api/v1/segments
PUT    /api/v1/segments/{id}
POST   /api/v1/segments/{id}/calculate

# Relat√≥rios
GET /api/v1/reports/churn
GET /api/v1/reports/dre
GET /api/v1/reports/forecast

# Integra√ß√µes
GET  /api/v1/integrations
POST /api/v1/integrations/test
PUT  /api/v1/integrations/{id}
```

### Webhooks

```http
# WhatsApp
POST /api/v1/webhooks/whatsapp

# Google Calendar
POST /api/v1/webhooks/google/calendar

# Notion
POST /api/v1/webhooks/notion
```

Documenta√ß√£o completa: http://localhost:8000/docs

## üìñ Guia de Uso

### 1. Primeiro Acesso

1. Acesse http://localhost:3000
2. Fa√ßa login com as credenciais demo
3. Explore o dashboard principal
4. Configure suas integra√ß√µes

### 2. Criando uma Campanha

```bash
# Via Chat Interface
"Crie uma campanha de WhatsApp para clientes inativos com or√ßamento de R$ 1000"

# Via API
curl -X POST "http://localhost:8000/api/v1/campaigns" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Reativa√ß√£o Clientes",
    "type": "whatsapp",
    "segment_id": "uuid-do-segmento",
    "budget": 1000.0
  }'
```

### 3. Executando Playbooks

```bash
# An√°lise de Churn
"Execute o playbook de an√°lise de churn dos √∫ltimos 90 dias"

# DRE Mensal
"Gere um DRE do m√™s passado com cen√°rios otimista e conservador"

# Campanha de Reativa√ß√£o
"Execute campanha de reativa√ß√£o para clientes inativos h√° 60 dias"
```

### 4. Comandos de Chat √öteis

```text
# Planejamento
"Preciso de um plano de m√≠dia para S√£o Paulo com budget R$ 5000"
"Crie um plano de reten√ß√£o para reduzir churn em 20%"

# An√°lises
"Analise o churn dos √∫ltimos 3 meses por coorte"
"Gere forecast de receita para pr√≥ximos 6 meses"
"Calcule CAC e LTV por canal de aquisi√ß√£o"

# Campanhas
"Crie campanha de email para clientes VIP"
"Configure sequ√™ncia de WhatsApp para novos clientes"
"Teste A/B para subject lines da newsletter"

# Automa√ß√µes
"Agende reuni√£o com time de marketing para amanh√£ √†s 14h"
"Exporte relat√≥rio de campanhas para o Notion"
"Sincronize contatos com o HubSpot"
```

## üìÅ Estrutura do Projeto

```
cro-ai-agent/
‚îú‚îÄ‚îÄ backend/                 # API FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agents/         # Agentes de IA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/            # Rotas da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/           # Configura√ß√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db/             # Modelos e schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ integrations/   # APIs externas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag/            # RAG e embeddings
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # L√≥gica de neg√≥cio
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/          # Utilit√°rios
‚îÇ   ‚îú‚îÄ‚îÄ tests/              # Testes
‚îÇ   ‚îú‚îÄ‚îÄ scripts/            # Scripts utilit√°rios
‚îÇ   ‚îú‚îÄ‚îÄ alembic/            # Migra√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt    # Depend√™ncias Python
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile.backend  # Container backend
‚îú‚îÄ‚îÄ frontend/               # Interface Next.js
‚îÇ   ‚îú‚îÄ‚îÄ app/                # App Router
‚îÇ   ‚îú‚îÄ‚îÄ components/         # Componentes UI
‚îÇ   ‚îú‚îÄ‚îÄ lib/                # Utilit√°rios
‚îÇ   ‚îú‚îÄ‚îÄ public/             # Assets est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ package.json        # Depend√™ncias Node
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile.frontend # Container frontend
‚îú‚îÄ‚îÄ docker/                 # Configura√ß√µes Docker
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml  # Orquestra√ß√£o
‚îú‚îÄ‚îÄ docs/                   # Documenta√ß√£o
‚îú‚îÄ‚îÄ scripts/                # Scripts de deploy
‚îú‚îÄ‚îÄ .env.example            # Template de vari√°veis
‚îú‚îÄ‚îÄ .gitignore              # Arquivos ignorados
‚îî‚îÄ‚îÄ README.md               # Este arquivo
```

## ü§ñ Agentes de IA

### Router Agent
**Fun√ß√£o**: Classifica inten√ß√µes e roteia para agente especializado
**Exemplos**: "planejar", "analisar", "executar", "reportar"

### Researcher Agent
**Fun√ß√£o**: Pesquisa dados, an√°lises e insights
**Capacidades**:
- An√°lise de churn e reten√ß√£o
- Pesquisa de mercado
- Benchmarking
- Valida√ß√£o de hip√≥teses

### Planner Agent
**Fun√ß√£o**: Cria√ß√£o de planos t√°ticos e estrat√©gicos
**Capacidades**:
- Planos de m√≠dia
- Estrat√©gias de reten√ß√£o
- Roadmaps de growth
- Or√ßamentos e metas

### CampaignBuilder Agent
**Fun√ß√£o**: Cria√ß√£o e otimiza√ß√£o de campanhas
**Capacidades**:
- Segmenta√ß√£o de audi√™ncia
- Cria√ß√£o de copys
- Configura√ß√£o de jornadas
- A/B testing

### SalesOps Agent
**Fun√ß√£o**: An√°lise de vendas e opera√ß√µes
**Capacidades**:
- An√°lise de funil
- Previs√µes de vendas
- Pricing e unit economics
- Integra√ß√£o com CRM

### Finance Agent
**Fun√ß√£o**: Relat√≥rios e an√°lises financeiras
**Capacidades**:
- DRE simplificado
- Forecasting
- An√°lise de cen√°rios
- M√©tricas de SaaS

### Automation Agent
**Fun√ß√£o**: Execu√ß√£o de integra√ß√µes e automa√ß√µes
**Capacidades**:
- Envio de campanhas
- Sincroniza√ß√£o de dados
- Agendamento de reuni√µes
- Notifica√ß√µes

## üîó Integra√ß√µes

### WhatsApp Business API

```python
# Configura√ß√£o
WHATSAPP_PROVIDER = "360dialog"  # ou "meta", "infobip"
WHATSAPP_API_KEY = "sua_api_key"
WHATSAPP_PHONE_NUMBER = "+5511999999999"

# Funcionalidades
- Envio de mensagens em massa
- Templates aprovados
- Webhooks de status
- M√©tricas de entrega
```

### Google Workspace

```python
# Servi√ßos integrados
- Gmail: Envio de emails
- Calendar: Agendamento de reuni√µes
- Drive: Upload de arquivos
- Sheets: Importa√ß√£o/exporta√ß√£o de dados

# Autentica√ß√£o OAuth2
GOOGLE_CLIENT_ID = "seu_client_id"
GOOGLE_CLIENT_SECRET = "seu_client_secret"
```

### Notion

```python
# Funcionalidades
- Cria√ß√£o de p√°ginas
- Atualiza√ß√£o de databases
- Coment√°rios em tasks
- Sincroniza√ß√£o de campanhas

NOTION_API_KEY = "sua_notion_key"
```

### CRM (HubSpot/Salesforce)

```python
# Sincroniza√ß√£o
- Contatos e leads
- Deals e oportunidades
- Atividades e intera√ß√µes
- Custom fields

# Configura√ß√£o HubSpot
HUBSPOT_API_KEY = "sua_hubspot_key"
HUBSPOT_PORTAL_ID = "seu_portal_id"
```

## üîß Troubleshooting

### Problemas Comuns

#### 1. Erro de Conex√£o com Banco

```bash
# Verifique se o PostgreSQL est√° rodando
docker compose ps postgres

# Verifique logs
docker compose logs postgres

# Recrie o banco
docker compose down
docker volume rm cro-ai-agent_postgres_data
docker compose up -d postgres
```

#### 2. Erro de Autentica√ß√£o

```bash
# Verifique JWT_SECRET_KEY no .env
# Limpe tokens expirados
docker compose exec redis redis-cli FLUSHDB

# Recrie usu√°rio admin
docker compose exec backend python scripts/seed.py
```

#### 3. Agentes n√£o Respondem

```bash
# Verifique API keys de IA
echo $OPENAI_API_KEY

# Verifique logs do backend
docker compose logs backend

# Teste conex√£o com APIs
curl -H "Authorization: Bearer $OPENAI_API_KEY" \
  https://api.openai.com/v1/models
```

#### 4. Integra√ß√µes Falhando

```bash
# Teste conectividade
docker compose exec backend python -c "
import requests
print(requests.get('https://api.whatsapp.com').status_code)
"

# Verifique credenciais
docker compose exec backend python scripts/test_integrations.py
```

### Logs e Monitoramento

```bash
# Logs em tempo real
docker compose logs -f

# Logs espec√≠ficos
docker compose logs backend
docker compose logs frontend
docker compose logs postgres

# M√©tricas de sistema
docker stats

# Health checks
curl http://localhost:8000/health
curl http://localhost:3000/api/health
```

### Performance

```bash
# Otimizar banco
docker compose exec postgres psql -U cro_user -d cro_ai_db -c "
VACUUM ANALYZE;
REINDEX DATABASE cro_ai_db;
"

# Limpar cache Redis
docker compose exec redis redis-cli FLUSHDB

# Monitorar recursos
docker compose exec backend python -c "
import psutil
print(f'CPU: {psutil.cpu_percent()}%')
print(f'RAM: {psutil.virtual_memory().percent}%')
"
```

## ü§ù Contribui√ß√£o

### Como Contribuir

1. **Fork** o reposit√≥rio
2. **Clone** seu fork
3. **Crie** uma branch para sua feature
4. **Implemente** suas mudan√ßas
5. **Teste** thoroughly
6. **Commit** com mensagens claras
7. **Push** para sua branch
8. **Abra** um Pull Request

### Padr√µes de C√≥digo

```bash
# Backend - Python
black backend/
isort backend/
flake8 backend/
mypy backend/

# Frontend - TypeScript
npm run lint
npm run type-check
npm run format

# Testes
pytest backend/tests/
npm test
```

### Estrutura de Commits

```
feat: adiciona novo agente de pricing
fix: corrige bug na integra√ß√£o WhatsApp
docs: atualiza README com novas funcionalidades
test: adiciona testes para CampaignBuilder
refactor: melhora performance do Router Agent
```

### Issues e Features

- üêõ **Bug Reports**: Use template de bug
- üí° **Feature Requests**: Descreva o caso de uso
- üìö **Documenta√ß√£o**: Melhorias na docs
- üîß **Manuten√ß√£o**: Refatora√ß√µes e otimiza√ß√µes

## üó∫Ô∏è Roadmap

### üéØ MVP (Atual)
- ‚úÖ Sistema de agentes b√°sico
- ‚úÖ Campanhas WhatsApp e Email
- ‚úÖ Relat√≥rios DRE e Churn
- ‚úÖ Integra√ß√µes Google e Notion
- ‚úÖ Interface web responsiva

### üìà V2.0 (Q2 2024)
- üîÑ Otimiza√ß√£o autom√°tica de ads
- üß™ Framework de A/B testing
- üìä Dashboards avan√ßados
- üîó Integra√ß√£o CRM completa
- ü§ñ Agente de negocia√ß√µes

### üöÄ V3.0 (Q3 2024)
- üñ•Ô∏è Agente local Windows
- üîç OCR e processamento de documentos
- üì± App mobile
- üåê Multi-tenancy
- üîê SSO empresarial

### üåü Futuro
- üß† ML para previs√£o de churn
- üéØ Personaliza√ß√£o 1:1
- üåç Suporte multi-idioma
- ‚ö° Real-time analytics
- üîÆ Predictive insights

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a **MIT License** - veja o arquivo [LICENSE](LICENSE) para detalhes.

## üìû Suporte

- **Email**: suporte@maispetoficial.com.br
- **Discord**: [CRO AI Community](https://discord.gg/cro-ai)
- **Issues**: [GitHub Issues](https://github.com/seu-usuario/cro-ai-agent/issues)
- **Docs**: [Documenta√ß√£o Completa](https://docs.cro-ai-agent.com)

---

**Desenvolvido com ‚ù§Ô∏è para revolucionar o Growth Marketing**

*CRO AI Agent - Transformando dados em receita, automaticamente.*
